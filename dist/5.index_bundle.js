(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{486:function(e,t,a){"use strict";a.r(t),function(e){a(109),a(110),a(111),a(236),a(64),a(153),a(237),a(154),a(107),a(69),a(112),a(156),a(86),a(238),a(113);var n,r=a(0),o=a.n(r),i=a(108),c=a(158),s=a(146),l=a(159),u=a(239),d=a(514);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var f,g,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=Object(r.memo)(m((function(e){var t=Object.assign({},e);console.log("Search_props: ",t);var a=t.hotKeyWordsList,n=(t.searchSuggestList,t.searchResultSongsList),i=t.enterLoading,c=t.changeEnterLoadingDispatch,f=t.getHotKeyWordsListDispatch,g=t.getSearchSuggestListDispatch,m=t.getSearchResultSongsListDispatch,b=h(Object(r.useState)(""),2),x=b[0],v=b[1],w=h(Object(r.useState)(""),2),S=w[0],E=w[1];Object(r.useEffect)((function(){a.length||x||f()}),[!x]);var _=Object(r.useCallback)((function(){t.history.goBack()}),[]);Object(r.useEffect)((function(){x&&""!=x&&(g(x),m(x))}),[x]),console.warn("----liwei_setSongUrl",S);var j=!!S;return o.a.createElement(d.b,{className:"animated ".concat("/search"==window.location.pathname?"rollIn":"rollOut")},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(y,{newSearchQuery:x,setSongUrl:E,handleBack:_,handleSearchQuery:function(e){console.warn("q: ",e),v(e),e&&(g(e),m(e),c(!0))},changeEnterLoadingDispatch:c}),a.length>0&&function(){var e=a.map((function(e){return Object.assign({},e)}));e&&e.length>0&&e.map((function(e,t){return e.originIndex=t}));for(var t=p(e),n=[];t.length;){var r=t.splice(0,2);n.push({value:r})}return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.d,{className:"clear_scroll_bar",show:x,songUrlBool:!!S},o.a.createElement("div",{className:"title"},"热门搜索"),o.a.createElement("div",{className:"popular_search_list"},n.map((function(e,t){return o.a.createElement("ul",{className:"single_search_list",key:t},e.value.map((function(e,t){return o.a.createElement("li",{key:t,onClick:function(){return v(e.searchWord)}},o.a.createElement("div",{className:"list_index ".concat(e.originIndex<4?"hot_song":"")},e.originIndex+1),o.a.createElement("div",{className:"search_content"},o.a.createElement("div",{className:"song_name_box"},o.a.createElement("div",{className:"song_name"},e.searchWord),o.a.createElement("img",{src:e.iconUrl,alt:""})),o.a.createElement("div",{className:"song_description"},e.content)))})))})))),S&&o.a.createElement(u.a,{songUrl:S}))}(),o.a.createElement("div",{className:"search_input_container clear_scroll_bar",style:{height:j&&"calc(85vh - 60px)"}},n&&n.length?(console.log("searchResultSongsList----liwei : ",n),o.a.createElement("div",{className:"render_search_songs"},n.map((function(e,t){return"name"in e?o.a.createElement("div",{className:"search_songs",key:t,onClick:function(){return E(Object(s.c)(e.id))}},o.a.createElement("div",null,o.a.createElement("div",{className:"song_name"},e.name),o.a.createElement("div",{className:"song_description"},o.a.createElement("span",null,"".concat(e.artists[0].name))," - ".concat(e.album.name||"".concat(e.name)))),o.a.createElement("i",{className:"iconfont icon_music"},"")):""})))):""),i?o.a.createElement(l.a,null):null))}),'useState{[searchQuery, setSearchQuery]("")}\nuseState{[songUrl, setSongUrl]("")}\nuseEffect{}\nuseCallback{handleBack}\nuseEffect{}')),y=Object(r.memo)(m((function(e){var t=Object.assign({},e),a=t.setSongUrl,n=t.newSearchQuery,i=t.handleBack,c=t.handleSearchQuery,l=t.changeEnterLoadingDispatch,u=h(Object(r.useState)(""),2),p=u[0],f=u[1],g=Object(r.useRef)();Object(r.useEffect)((function(){g.current.focus()}),[]),Object(r.useEffect)((function(){var e=p;n!==p&&(e=n,g.current.value=n,l(!0)),f(e)}),[n]);var m=Object(r.useMemo)((function(){return Object(s.a)(c,500)}),[c]);Object(r.useEffect)((function(){m(p)}),[p]);return o.a.createElement(d.c,null,o.a.createElement("div",{className:"input_query_box"},o.a.createElement("input",{type:"text",ref:g,placeholder:"输入歌曲、歌手",onChange:function(e){var t=e.target.value;f(t),l(!0)}}),p&&o.a.createElement("i",{className:"iconfont icon_close",onClick:function(){f(""),a(""),g.current.value="",g.current.focus()}},"")),o.a.createElement(d.a,{className:"icon_back",onClick:i},"取消"))}),'useState{[searchQuery, setSearchQuery]("")}\nuseRef{queryRef}\nuseEffect{}\nuseEffect{}\nuseMemo{handleSearchQueryDebounce}\nuseEffect{}')),x=function(e){return console.log("---liwei---state: ",e),{hotKeyWordsList:e.search.hotKeyWordsList,searchSuggestList:e.search.searchSuggestList,searchResultSongsList:e.search.searchResultSongsList}},v=function(e){return{getHotKeyWordsListDispatch:function(){e(c.b())},getSearchSuggestListDispatch:function(t){e(c.d(t))},changeEnterLoadingDispatch:function(t){e(c.a(t))},getSearchResultSongsListDispatch:function(t){e(c.c(t))}}},w=Object(i.b)(x,v)(b);t.default=w,function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==t?t:exports;if(a)if("function"!=typeof a){for(var n in a)if(Object.prototype.hasOwnProperty.call(a,n)){var r=void 0;try{r=a[n]}catch(e){continue}e.register(r,n,"/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx")}}else e.register(a,"module.exports","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx")}}(),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(b,"Search","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx"),f.register(y,"SearchSongInput","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx"),f.register(x,"mapStateToProps","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx"),f.register(v,"mapDispatchToProps","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx"),f.register(w,"default","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/index.jsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}.call(this,a(12)(e))},514:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return u}));var n,r=a(15);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,i,c=r.b.div.withConfig({displayName:"style__SearchContainer"})(["color:#fff;position:fixed;top:0px;left:0px;right:0px;bottom:0px;width:100%;z-index:100;transform-origin:right bottom;overflow:hidden;background:#1a1a1a;@media screen and (min-width:1024px){max-width:500px;margin:0 auto;}.search_input_container{margin:0 15px;height:calc(95vh - 60px);overflow-x:hidden;overflow-y:scroll;.render_search_songs{.search_songs{padding:12px 0;border-bottom:1px solid #333;font-weight:300;display:flex;justify-content:space-between;align-items:center;&:last-child{border-bottom:none;}.song_name{padding-bottom:7px;}.song_description{font-size:12px;span{color:blue;font-size:12px;color:#2288e4;}}}.icon_music{color:#e61b58;font-size:20px;}}}"]),s=r.b.div.withConfig({displayName:"style__SearchSongInputContainer"})(["display:flex;align-items:center;padding:15px;height:60px;.input_query_box{width:80%;display:flex;align-items:center;input{padding:10px 0 10px 10px;border:none;outline:none;font-size:13px;border-radius:50px;width:90%;background:#212121;color:#5d5d5d;}input::-webkit-input-placeholder{color:#5d5d5d;}input::-moz-placeholder{color:#5d5d5d;}input::-moz-placeholder{color:#5d5d5d;}input:-ms-input-placeholder{color:#5d5d5d;}i{margin-left:-35px;color:#5d5d5d;}}"]),l=r.b.div.withConfig({displayName:"style__IconBack"})(["padding:0 10px;"]),u=r.b.div.withConfig({displayName:"style__SopularSearchBox"})(["margin:0 15px;height:calc(95vh - 60px);overflow-x:hidden;overflow-y:scroll;display:",";.title{padding-bottom:20px;}.popular_search_list{ul.single_search_list{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;li{display:flex;align-items:center;.list_index{padding-right:15px;}.hot_song{color:#cc3333;font-size:17px;font-weight:700;}.search_content{.song_name_box{display:flex;.song_name{max-width:100px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:14px;padding-bottom:10px;line-height:1.3em;}img{height:14px;display:block;margin-left:10px;}}.song_description{font-size:12px;color:#5d5d5d;width:150px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}}}}}"],(function(e){return e.show?"none":null}));!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==t?t:exports;if(a)if("function"!=typeof a){for(var n in a)if(Object.prototype.hasOwnProperty.call(a,n)){var r=void 0;try{r=a[n]}catch(e){continue}e.register(r,n,"/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js")}}else e.register(a,"module.exports","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js")}}(),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(c,"SearchContainer","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js"),o.register(s,"SearchSongInputContainer","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js"),o.register(l,"IconBack","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js"),o.register(u,"SopularSearchBox","/Users/liwei/Desktop/CODE/ReactCloudMusicTheme/src/application/Search/style.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(12)(e))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwbGljYXRpb24vU2VhcmNoL2luZGV4LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwbGljYXRpb24vU2VhcmNoL3N0eWxlLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJwcm9wcyIsImhvdEtleVdvcmRzTGlzdCIsImxlbmd0aCIsInNlYXJjaFF1ZXJ5IiwiZ2V0SG90S2V5V29yZHNMaXN0RGlzcGF0Y2giLCJoaXN0b3J5IiwiZ29CYWNrIiwiZ2V0U2VhcmNoU3VnZ2VzdExpc3REaXNwYXRjaCIsImdldFNlYXJjaFJlc3VsdFNvbmdzTGlzdERpc3BhdGNoIiwid2FybiIsInNvbmdVcmwiLCJxIiwic2V0U2VhcmNoUXVlcnkiLCJjaGFuZ2VFbnRlckxvYWRpbmdEaXNwYXRjaCIsIm5ld0hvdEtleVdvcmRzTGlzdCIsIm1hcCIsImNvcHkiLCJzcGxpdGVkSG90S2V5V29yZHNMaXN0IiwicHVzaCIsInZhbHVlIiwic2xpY2VkIiwic2VhcmNoUmVzdWx0U29uZ3NMaXN0IiwicXVlcnlSZWYiLCJjdXJyZW50IiwiZm9jdXMiLCJuZXdTZWFyY2hRdWVyeSIsImN1clNlYXJjaFF1ZXJ5IiwiaGFuZGxlU2VhcmNoUXVlcnlEZWJvdW5jZSIsInNldFNvbmdVcmwiLCJzdGF0ZSIsInNlYXJjaCIsInNlYXJjaFN1Z2dlc3RMaXN0IiwiZGlzcGF0Y2giXSwibWFwcGluZ3MiOiJxekNBZ0JBLDBEQUNFQSxRQUFRQyxJQUFJLGlCQUFrQkMsR0FEaEMsSUFHQSxFQUlBLEVBSkEsZ0JBRUEsR0FFQSxFQUhBLGtCQUdBLEVBRkEsdUJBQ0EsRUFDQSxFQURBLGFBR0EsRUFJQSxFQUpBLDJCQUNBLEVBR0EsRUFIQSwyQkFDQSxFQUVBLEVBRkEsNkJBQ0EsRUFDQSxFQURBLGlDQVpBLElBZUEsdUJBZkEsR0FlQSxFQWZBLEtBZUEsRUFmQSxTQWdCQSx1QkFoQkEsR0FnQkEsRUFoQkEsS0FnQkEsRUFoQkEsS0FrQkUsT0FBRixZQUFFLEVB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LEVBQU1DLE9BQU83QixnQkFDOUI4QixrQkFBbUJGLEVBQU1DLE9BQU9DLGtCQUNoQ1Ysc0JBQXVCUSxFQUFNQyxPQUFPVCx3QkFJeEMsY0FDRSxNQUFPLENBQ0xqQiwyQkFESixXQUVNNEIsRUFBUyxFQUFmLE1BRUl6Qiw2QkFKSixTQUlBLEdBQ015QixFQUFTLEVBQWYsT0FFSW5CLDJCQVBKLFNBT0EsR0FDTW1CLEVBQVMsRUFBZixPQUVJeEIsaUNBVkosU0FVQSxHQUNNd0IsRUFBUyxFQUFmLFMsRUFLQSxvQkFBZSxZLCtqQkF0UmYsRSx1R0FxTEEsRSxnSEF1RUEsRSxnSEFTQSxFLDRyQkNuUkEsNHRCQW9EQSxtaEJBcUNBLDJFQUdBLGd4QkFNQSxZQUFFLE9BQUYsdUIsNmpCQWxHQSxFLCtHQW9EQSxFLHdIQXFDQSxFLHdHQUdBLEUiLCJmaWxlIjoiNS5pbmRleF9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtcbiAgbWVtbyxcbiAgdXNlU3RhdGUsXG4gIHVzZU1lbW8sXG4gIHVzZUVmZmVjdCxcbiAgdXNlUmVmLFxuICB1c2VDYWxsYmFja1xufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCAqIGFzIGFjdGlvblR5cGVzIGZyb20gXCIuL3N0b3JlL2FjdGlvbkNyZWF0b3JzLmpzXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSwgZ2V0U29uZ1VybCB9IGZyb20gXCIuLi8uLi9hcGkvaGVscGVyXCI7XG5pbXBvcnQgTG9hZGluZyBmcm9tIFwiLi4vLi4vYmFzaWNNb2R1bGUvbG9hZGluZy9pbmRleFwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vUGxheWVyL2luZGV4XCI7XG5cbmltcG9ydCAqIGFzIFMgZnJvbSBcIi4vc3R5bGUuanNcIjtcblxuY29uc3QgU2VhcmNoID0gbWVtbygoeyAuLi5wcm9wcyB9KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiU2VhcmNoX3Byb3BzOiBcIiwgcHJvcHMpO1xuICBjb25zdCB7XG4gICAgaG90S2V5V29yZHNMaXN0LFxuICAgIHNlYXJjaFN1Z2dlc3RMaXN0LFxuICAgIHNlYXJjaFJlc3VsdFNvbmdzTGlzdCxcbiAgICBlbnRlckxvYWRpbmdcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgY2hhbmdlRW50ZXJMb2FkaW5nRGlzcGF0Y2gsXG4gICAgZ2V0SG90S2V5V29yZHNMaXN0RGlzcGF0Y2gsXG4gICAgZ2V0U2VhcmNoU3VnZ2VzdExpc3REaXNwYXRjaCxcbiAgICBnZXRTZWFyY2hSZXN1bHRTb25nc0xpc3REaXNwYXRjaFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NvbmdVcmwsIHNldFNvbmdVcmxdID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWhvdEtleVdvcmRzTGlzdC5sZW5ndGggJiYgIXNlYXJjaFF1ZXJ5KSB7XG4gICAgICBnZXRIb3RLZXlXb3Jkc0xpc3REaXNwYXRjaCgpO1xuICAgIH1cbiAgICAvLyBnZXRTZWFyY2hTdWdnZXN0TGlzdERpc3BhdGNoKCk7XG4gICAgLy8gZ2V0U2VhcmNoUmVzdWx0U29uZ3NMaXN0RGlzcGF0Y2goKTtcbiAgfSwgWyFzZWFyY2hRdWVyeV0pO1xuXG4gIGNvbnN0IGhhbmRsZUJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcHJvcHMuaGlzdG9yeS5nb0JhY2soKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlYXJjaFF1ZXJ5ICYmIHNlYXJjaFF1ZXJ5ICE9IFwiXCIpIHtcbiAgICAgIGdldFNlYXJjaFN1Z2dlc3RMaXN0RGlzcGF0Y2goc2VhcmNoUXVlcnkpO1xuICAgICAgZ2V0U2VhcmNoUmVzdWx0U29uZ3NMaXN0RGlzcGF0Y2goc2VhcmNoUXVlcnkpO1xuICAgIH1cbiAgfSwgW3NlYXJjaFF1ZXJ5XSk7XG5cbiAgLy8gY29uc3QgcmVuZGVyU2VhcmNoU2luZ2VycyA9ICgpID0+IHtcbiAgLy8gICAvLyDnm7jlhbPmrYzmiYtcbiAgLy8gICBjb25zdCBzZWFyY2hTdWdnZXN0TGlzdCA9IHNlYXJjaFN1Z2dlc3RMaXN0LmFydGlzdHM7XG4gIC8vICAgaWYgKCFzZWFyY2hTdWdnZXN0TGlzdCB8fCAhc2VhcmNoU3VnZ2VzdExpc3QubGVuZ3RoKSByZXR1cm4gXCJcIjtcbiAgLy8gICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyZW5kZXJfc2VhcmNoX3NpbmdlcnNcIj7muLLmn5PmrYzljZU8L2Rpdj47XG4gIC8vIH07XG4gIC8vIGNvbnN0IHJlbmRlclNlYXJjaEFsYnVtID0gKCkgPT4ge1xuICAvLyAgIC8vIOebuOWFs+atjOWNlVxuICAvLyAgIGNvbnN0IHNlYXJjaFN1Z2dlc3RMaXN0ID0gc2VhcmNoU3VnZ2VzdExpc3QucGxheWxpc3RzO1xuICAvLyAgIGlmICghc2VhcmNoU3VnZ2VzdExpc3QgfHwgIXNlYXJjaFN1Z2dlc3RMaXN0Lmxlbmd0aCkgcmV0dXJuIFwiXCI7XG4gIC8vICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicmVuZGVyX3NlYXJjaF9zaW5nZXJzXCI+5riy5p+T5q2M5Y2VPC9kaXY+O1xuICAvLyB9O1xuXG4gIGNvbnNvbGUud2FybihcIi0tLS1saXdlaV9zZXRTb25nVXJsXCIsIHNvbmdVcmwpO1xuXG4gIGNvbnN0IHJlbmRlclNlYXJjaFNvbmdzID0gKCkgPT4ge1xuICAgIC8vIOebuOWFs+atjOabslxuICAgIGlmICghc2VhcmNoUmVzdWx0U29uZ3NMaXN0IHx8ICFzZWFyY2hSZXN1bHRTb25nc0xpc3QubGVuZ3RoKSByZXR1cm4gXCJcIjtcbiAgICBjb25zb2xlLmxvZyhcInNlYXJjaFJlc3VsdFNvbmdzTGlzdC0tLS1saXdlaSA6IFwiLCBzZWFyY2hSZXN1bHRTb25nc0xpc3QpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbmRlcl9zZWFyY2hfc29uZ3NcIj5cbiAgICAgICAge3NlYXJjaFJlc3VsdFNvbmdzTGlzdC5tYXAoKHNvbmcsIGluZGV4KSA9PlxuICAgICAgICAgICEoXCJuYW1lXCIgaW4gc29uZykgPyAoXG4gICAgICAgICAgICBcIlwiXG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoX3NvbmdzXCJcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U29uZ1VybChnZXRTb25nVXJsKHNvbmcuaWQpKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvbmdfbmFtZVwiPntzb25nLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb25nX2Rlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj57YCR7c29uZy5hcnRpc3RzWzBdLm5hbWV9YH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7YCAtICR7c29uZy5hbGJ1bS5uYW1lIHx8IGAke3NvbmcubmFtZX1gfWB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpY29uZm9udCBpY29uX211c2ljXCI+JiN4ZThiMjs8L2k+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclBvcHVsYXJTZWFyY2ggPSAoKSA9PiB7XG4gICAgLy8g5aSE55CG5a+56LGh5Y+v5Lul6KKr5ouT5bGVXG4gICAgbGV0IG5ld0hvdEtleVdvcmRzTGlzdCA9IGhvdEtleVdvcmRzTGlzdC5tYXAoaXRlbSA9PlxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICApO1xuICAgIGlmIChuZXdIb3RLZXlXb3Jkc0xpc3QgJiYgbmV3SG90S2V5V29yZHNMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIG5ld0hvdEtleVdvcmRzTGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoaXRlbS5vcmlnaW5JbmRleCA9IGluZGV4KSk7XG4gICAgfVxuXG4gICAgY29uc3QgY29weSA9IFsuLi5uZXdIb3RLZXlXb3Jkc0xpc3RdO1xuICAgIGNvbnN0IHNwbGl0ZWRIb3RLZXlXb3Jkc0xpc3QgPSBbXTtcbiAgICB3aGlsZSAoY29weS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNsaWNlZCA9IGNvcHkuc3BsaWNlKDAsIDIpO1xuICAgICAgc3BsaXRlZEhvdEtleVdvcmRzTGlzdC5wdXNoKHtcbiAgICAgICAgdmFsdWU6IHNsaWNlZFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKFwi5aSE55CG5ZCO55qE5pWw5o2uc3BsaXRlZEhvdEtleVdvcmRzTGlzdDogXCIsIHNwbGl0ZWRIb3RLZXlXb3Jkc0xpc3QpO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxTLlNvcHVsYXJTZWFyY2hCb3hcbiAgICAgICAgICBjbGFzc05hbWU9XCJjbGVhcl9zY3JvbGxfYmFyXCJcbiAgICAgICAgICBzaG93PXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICBzb25nVXJsQm9vbD17c29uZ1VybCA/IHRydWUgOiBmYWxzZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj7ng63pl6jmkJzntKI8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcHVsYXJfc2VhcmNoX2xpc3RcIj5cbiAgICAgICAgICAgIHtzcGxpdGVkSG90S2V5V29yZHNMaXN0Lm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNpbmdsZV9zZWFyY2hfbGlzdFwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgIHtpdGVtLnZhbHVlLm1hcCgoZWxlLCBpbmQpID0+IChcbiAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2luZH0gb25DbGljaz17KCkgPT4gc2V0U2VhcmNoUXVlcnkoZWxlLnNlYXJjaFdvcmQpfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxpc3RfaW5kZXggJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5vcmlnaW5JbmRleCA8IDQgPyBcImhvdF9zb25nXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7ZWxlLm9yaWdpbkluZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvbmdfbmFtZV9ib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29uZ19uYW1lXCI+e2VsZS5zZWFyY2hXb3JkfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2VsZS5pY29uVXJsfSBhbHQ9XCJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29uZ19kZXNjcmlwdGlvblwiPntlbGUuY29udGVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUy5Tb3B1bGFyU2VhcmNoQm94PlxuICAgICAgICB7c29uZ1VybCAmJiA8UGxheWVyIHNvbmdVcmw9e3NvbmdVcmx9IC8+fVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlYXJjaFF1ZXJ5ID0gcSA9PiB7XG4gICAgY29uc29sZS53YXJuKFwicTogXCIsIHEpO1xuICAgIHNldFNlYXJjaFF1ZXJ5KHEpO1xuICAgIGlmICghcSkgcmV0dXJuO1xuICAgIGdldFNlYXJjaFN1Z2dlc3RMaXN0RGlzcGF0Y2gocSk7XG4gICAgZ2V0U2VhcmNoUmVzdWx0U29uZ3NMaXN0RGlzcGF0Y2gocSk7XG4gICAgY2hhbmdlRW50ZXJMb2FkaW5nRGlzcGF0Y2godHJ1ZSk7XG4gIH07XG5cbiAgY29uc3Qgc29uZ1VybEJvb2wgPSBzb25nVXJsID8gdHJ1ZSA6IGZhbHNlO1xuXG4gIHJldHVybiAoXG4gICAgPFMuU2VhcmNoQ29udGFpbmVyXG4gICAgICBjbGFzc05hbWU9e2BhbmltYXRlZCAke1xuICAgICAgICAvLyBib3VuY2VJbkRvd25cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09IFwiL3NlYXJjaFwiID8gXCJyb2xsSW5cIiA6IFwicm9sbE91dFwiXG4gICAgICB9YH1cbiAgICA+XG4gICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfX0+XG4gICAgICAgIDxTZWFyY2hTb25nSW5wdXRcbiAgICAgICAgICBuZXdTZWFyY2hRdWVyeT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgc2V0U29uZ1VybD17c2V0U29uZ1VybH1cbiAgICAgICAgICBoYW5kbGVCYWNrPXtoYW5kbGVCYWNrfVxuICAgICAgICAgIGhhbmRsZVNlYXJjaFF1ZXJ5PXtoYW5kbGVTZWFyY2hRdWVyeX1cbiAgICAgICAgICBjaGFuZ2VFbnRlckxvYWRpbmdEaXNwYXRjaD17Y2hhbmdlRW50ZXJMb2FkaW5nRGlzcGF0Y2h9XG4gICAgICAgIC8+XG4gICAgICAgIHtob3RLZXlXb3Jkc0xpc3QubGVuZ3RoID4gMCAmJiByZW5kZXJQb3B1bGFyU2VhcmNoKCl9XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2hfaW5wdXRfY29udGFpbmVyIGNsZWFyX3Njcm9sbF9iYXJcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBoZWlnaHQ6IHNvbmdVcmxCb29sICYmIFwiY2FsYyg4NXZoIC0gNjBweClcIlxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7Lyoge3JlbmRlclNlYXJjaFNpbmdlcnMoKX0gKi99XG4gICAgICAgICAgey8qIHtyZW5kZXJTZWFyY2hBbGJ1bSgpfSAqL31cbiAgICAgICAgICB7cmVuZGVyU2VhcmNoU29uZ3MoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtlbnRlckxvYWRpbmcgPyA8TG9hZGluZz48L0xvYWRpbmc+IDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgIDwvUy5TZWFyY2hDb250YWluZXI+XG4gICk7XG59KTtcblxuY29uc3QgU2VhcmNoU29uZ0lucHV0ID0gbWVtbygoeyAuLi5wcm9wcyB9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzZXRTb25nVXJsLFxuICAgIG5ld1NlYXJjaFF1ZXJ5LFxuICAgIGhhbmRsZUJhY2ssXG4gICAgaGFuZGxlU2VhcmNoUXVlcnksXG4gICAgY2hhbmdlRW50ZXJMb2FkaW5nRGlzcGF0Y2hcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgY29uc3QgcXVlcnlSZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBxdWVyeVJlZi5jdXJyZW50LmZvY3VzKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOino+WGs+eCueWHu+eDreaQnOS4reeahOatjOabsuWQjeaYvuekuuWcqGlucHV05qGG5LitXG4gICAgbGV0IGN1clNlYXJjaFF1ZXJ5ID0gc2VhcmNoUXVlcnk7XG4gICAgaWYgKG5ld1NlYXJjaFF1ZXJ5ICE9PSBzZWFyY2hRdWVyeSkge1xuICAgICAgY3VyU2VhcmNoUXVlcnkgPSBuZXdTZWFyY2hRdWVyeTtcbiAgICAgIHF1ZXJ5UmVmLmN1cnJlbnQudmFsdWUgPSBuZXdTZWFyY2hRdWVyeTtcbiAgICAgIGNoYW5nZUVudGVyTG9hZGluZ0Rpc3BhdGNoKHRydWUpO1xuICAgIH1cbiAgICBzZXRTZWFyY2hRdWVyeShjdXJTZWFyY2hRdWVyeSk7XG4gIH0sIFtuZXdTZWFyY2hRdWVyeV0pO1xuXG4gIGNvbnN0IGhhbmRsZVNlYXJjaFF1ZXJ5RGVib3VuY2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZGVib3VuY2UoaGFuZGxlU2VhcmNoUXVlcnksIDUwMCk7XG4gIH0sIFtoYW5kbGVTZWFyY2hRdWVyeV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g5b6I5a6e55So55qE5oqA5benXG4gICAgaGFuZGxlU2VhcmNoUXVlcnlEZWJvdW5jZShzZWFyY2hRdWVyeSk7XG4gIH0sIFtzZWFyY2hRdWVyeV0pO1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBzZXRTZWFyY2hRdWVyeSh2YWx1ZSk7XG4gICAgY2hhbmdlRW50ZXJMb2FkaW5nRGlzcGF0Y2godHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgY2xlYXJTZWFyY2hRdWVyeSA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hRdWVyeShcIlwiKTtcbiAgICBzZXRTb25nVXJsKFwiXCIpO1xuICAgIHF1ZXJ5UmVmLmN1cnJlbnQudmFsdWUgPSBcIlwiO1xuICAgIHF1ZXJ5UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTLlNlYXJjaFNvbmdJbnB1dENvbnRhaW5lcj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXRfcXVlcnlfYm94XCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICByZWY9e3F1ZXJ5UmVmfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6L6T5YWl5q2M5puy44CB5q2M5omLXCJcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIHtzZWFyY2hRdWVyeSAmJiAoXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaWNvbmZvbnQgaWNvbl9jbG9zZVwiIG9uQ2xpY2s9e2NsZWFyU2VhcmNoUXVlcnl9PlxuICAgICAgICAgICAgJiN4ZTY1YztcbiAgICAgICAgICA8L2k+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxTLkljb25CYWNrIGNsYXNzTmFtZT1cImljb25fYmFja1wiIG9uQ2xpY2s9e2hhbmRsZUJhY2t9PlxuICAgICAgICDlj5bmtohcbiAgICAgIDwvUy5JY29uQmFjaz5cbiAgICA8L1MuU2VhcmNoU29uZ0lucHV0Q29udGFpbmVyPlxuICApO1xufSk7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+IHtcbiAgY29uc29sZS5sb2coXCItLS1saXdlaS0tLXN0YXRlOiBcIiwgc3RhdGUpO1xuICByZXR1cm4ge1xuICAgIGhvdEtleVdvcmRzTGlzdDogc3RhdGUuc2VhcmNoLmhvdEtleVdvcmRzTGlzdCxcbiAgICBzZWFyY2hTdWdnZXN0TGlzdDogc3RhdGUuc2VhcmNoLnNlYXJjaFN1Z2dlc3RMaXN0LFxuICAgIHNlYXJjaFJlc3VsdFNvbmdzTGlzdDogc3RhdGUuc2VhcmNoLnNlYXJjaFJlc3VsdFNvbmdzTGlzdFxuICB9O1xufTtcblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4ge1xuICByZXR1cm4ge1xuICAgIGdldEhvdEtleVdvcmRzTGlzdERpc3BhdGNoKCkge1xuICAgICAgZGlzcGF0Y2goYWN0aW9uVHlwZXMuZ2V0SG90S2V5V29yZHMoKSk7XG4gICAgfSxcbiAgICBnZXRTZWFyY2hTdWdnZXN0TGlzdERpc3BhdGNoKGRhdGEpIHtcbiAgICAgIGRpc3BhdGNoKGFjdGlvblR5cGVzLmdldFNlYXJjaFN1Z2dlc3RMaXN0KGRhdGEpKTtcbiAgICB9LFxuICAgIGNoYW5nZUVudGVyTG9hZGluZ0Rpc3BhdGNoKGRhdGEpIHtcbiAgICAgIGRpc3BhdGNoKGFjdGlvblR5cGVzLmNoYW5nZUVudGVyTG9hZGluZyhkYXRhKSk7XG4gICAgfSxcbiAgICBnZXRTZWFyY2hSZXN1bHRTb25nc0xpc3REaXNwYXRjaChkYXRhKSB7XG4gICAgICBkaXNwYXRjaChhY3Rpb25UeXBlcy5nZXRTZWFyY2hSZXN1bHRTb25nTGlzdChkYXRhKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoU2VhcmNoKTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCJcblxuZXhwb3J0IGNvbnN0IFNlYXJjaENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIGNvbG9yOiAjZmZmO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIHJpZ2h0OiAwcHg7XG4gIGJvdHRvbTogMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgei1pbmRleDogMTAwO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQ6ICMxYTFhMWE7XG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkge1xuICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cbiAgLnNlYXJjaF9pbnB1dF9jb250YWluZXIge1xuICAgIG1hcmdpbjogMCAxNXB4O1xuICAgIGhlaWdodDogY2FsYyg5NXZoIC0gNjBweCk7XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAucmVuZGVyX3NlYXJjaF9zb25ncyB7XG4gICAgICAuc2VhcmNoX3NvbmdzIHtcbiAgICAgICAgcGFkZGluZzogMTJweCAwO1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcbiAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAmOmxhc3QtY2hpbGQge1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgLnNvbmdfbmFtZSB7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDdweDtcbiAgICAgICAgfVxuICAgICAgICAuc29uZ19kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBjb2xvcjogIzIyODhlNDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5pY29uX211c2ljIHtcbiAgICAgICAgY29sb3I6ICNlNjFiNTg7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IFNlYXJjaFNvbmdJbnB1dENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGhlaWdodDogNjBweDtcbiAgLmlucHV0X3F1ZXJ5X2JveCB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaW5wdXQge1xuICAgICAgcGFkZGluZzogMTBweCAwIDEwcHggMTBweDtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgICAgd2lkdGg6IDkwJTtcbiAgICAgIGJhY2tncm91bmQ6ICMyMTIxMjE7XG4gICAgICBjb2xvcjogIzVkNWQ1ZDtcbiAgICB9XG4gICAgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgICAgY29sb3I6ICM1ZDVkNWQ7XG4gICAgfVxuICAgIGlucHV0OjotbW96LXBsYWNlaG9sZGVyIHtcbiAgICAgIGNvbG9yOiAjNWQ1ZDVkO1xuICAgIH1cbiAgICBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciB7XG4gICAgICBjb2xvcjogIzVkNWQ1ZDtcbiAgICB9XG4gICAgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcbiAgICAgIGNvbG9yOiAjNWQ1ZDVkO1xuICAgIH1cbiAgICBpIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtMzVweDtcbiAgICAgIGNvbG9yOiAjNWQ1ZDVkO1xuICAgIH1cbiAgfVxuYFxuZXhwb3J0IGNvbnN0IEljb25CYWNrID0gc3R5bGVkLmRpdmBcbiAgcGFkZGluZzogMCAxMHB4O1xuYFxuZXhwb3J0IGNvbnN0IFNvcHVsYXJTZWFyY2hCb3ggPSBzdHlsZWQuZGl2YFxuICBtYXJnaW46IDAgMTVweDtcbiAgaGVpZ2h0OiBjYWxjKDk1dmggLSA2MHB4KTtcbiAgLyogaGVpZ2h0OiAke3Byb3BzID0+IHByb3BzLnNvbmdVcmxCb29sID8gXCJjYWxjKDg1dmggLSA2MHB4KVwiIDogXCJjYWxjKDk1dmggLSA2MHB4KVwifTsgKi9cbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIGRpc3BsYXk6ICR7cHJvcHMgPT4gcHJvcHMuc2hvdyA/IFwibm9uZVwiIDogbnVsbH07XG4gIC50aXRsZSB7XG4gICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gIH1cbiAgLnBvcHVsYXJfc2VhcmNoX2xpc3Qge1xuICAgIHVsLnNpbmdsZV9zZWFyY2hfbGlzdCB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICBsaSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIC5saXN0X2luZGV4IHtcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xuICAgICAgICB9XG4gICAgICAgIC5ob3Rfc29uZyB7XG4gICAgICAgICAgY29sb3I6ICNjYzMzMzM7XG4gICAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICAgIH1cbiAgICAgICAgLnNlYXJjaF9jb250ZW50IHtcbiAgICAgICAgICAuc29uZ19uYW1lX2JveCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgLnNvbmdfbmFtZSB7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogMTAwcHg7XG4gICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS4zZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLnNvbmdfZGVzY3JpcHRpb24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgY29sb3I6ICM1ZDVkNWQ7XG4gICAgICAgICAgICB3aWR0aDogMTUwcHg7XG4gICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuXG4iXSwic291cmNlUm9vdCI6IiJ9